import csv
from io import StringIO

import csv
from io import StringIO

csv_string = """<survey_response_train_final.csv>
StartDate,EndDate,Status,Progress,Duration (in seconds),Finished,RecordedDate,ResponseId,RecipientLastName,RecipientFirstName,RecipientEmail,ExternalDataReference,DistributionChannel,UserLanguage,QID59,QID57,Q58,Q1,Q2,Q2_13_TEXT,Q3,Q4,Q5,Q5_4_TEXT,Q6,Q6_5_TEXT,Q7,Q8,Q10,Q72_1,Q72_2,Q72_3,Q72_4,Q72_5,Q72_6,Q72_7,Q72_8,Q72_9,Q72_10,Q72_11,Q72_12,Q72_13,Q72_14,Q72_15,Q72_16,Q72_17,Q72_18,Q72_19,Q72_20,Q75_1,Q75_2,Q75_3,Q75_4,Q75_5,Q75_6,Q75_7,Q75_8,Q75_9,Q75_10,Q75_11,Q75_12,Q75_13,Q75_14,Q75_15,Q75_16,Q75_17,Q75_18,Q75_19,Q75_20,Q71_1,Q71_2,Q71_3,Q71_4,Q71_5,Q71_6,Q71_7,Q71_8,Q71_9,Q71_10,Q71_11,Q71_12,Q71_13,Q71_14,Q71_15,Q71_16,Q71_17,Q71_18,Q71_19,Q71_20,Q76_1,Q76_2,Q76_3,Q76_4,Q76_5,Q76_6,Q76_7,Q76_8,Q76_9,Q76_10,Q76_11,Q76_12,Q76_13,Q76_14,Q76_15,Q76_16,Q76_17,Q76_18,Q76_19,Q76_20,Q12,Q12_6_TEXT,Q14,Q15,Q16,Q61,Q17,Q17_7_TEXT,Q62,Q62_7_TEXT,Q18,Q63,Q60,Q60_4_TEXT,Q19,Q64,Q20,Q20_4_TEXT,Q66,Q66_4_TEXT,Q21,Q67,Q68,Q68_4_TEXT,Q77,Q23,Q24,Q25,Q26,Q28,Q29,Q30,trigger_input0,action_input0,trigger_input1,action_input1,trigger_input2,action_input2,trigger_input3,action_input3,trigger_input4,action_input4,trigger_input5,action_input5,trigger_input6,action_input6,trigger_input7,action_input7,trigger_input8,action_input8,trigger_input9,action_input9,trigger_input10,action_input10,trigger_input11,action_input11,trigger_input12,action_input12,trigger_input13,action_input13,trigger_input14,action_input14,trigger_input15,action_input15,trigger_input16,action_input16,trigger_input17,action_input17,trigger_input18,action_input18,trigger_input19,action_input19,ResponseID
10/13/18 8:57,10/13/18 13:03,IP Address,100,14768,TRUE,10/13/18 13:03,R_2t9VfWrI4EnmkFI,,,,,anonymous,EN,Student,"Some college, no degree",Computer Science,Yes,"IFTTT,Google Home,Other (please specify)","Philips Hue, WeMo outlet","Google Home, Philips Hue",Yes,"Apps offered by the platform (SmartThings, Nest, Google Home, etc.),DIY methods (Using Raspberry pi, Arduino, etc)",,"Personal Requirements,,Important,"Air Conditioner,Light Bulb,Thermostat,Sous Vide,Security Camera,Smart TV,Speaker","1. IF mode is Away AND time is (after sunset) , THEN switch on the Light Bulb  2. IF mode is Away AND time is (after 10pm +- random(30 minutes), THEN switch off the Light Bulb  3. IF temperature outside &gt; 80F AND mode is Away, THEN set level of Air Conditioner to 79F AND close blinds  4. IF temperature outside &gt; 80F AND mode is Home, THEN set level of Air Conditioner to 76F  5. IF temperature &lt; 50F AND mode is Away, THEN set heatingSetpoint of Thermostat to 55F  6. IF temperature &lt; 60F AND mode is Home, THEN set heatingSetpoint of Thermostat to 60F",Few times in a day (1-5/day),Few times in a month,Few times in a day (1-5/day),Few times in a day (1-5/day),Few times in a day (1-5/day),Few times in a day (1-5/day),,,,,,,,,,,,,,,,,Weekend,Weekend,Anytime,Anytime,Anytime,Anytime,,,,,,,,,,,,,,,,,"Evening(5pm-8pm),Night(8pm-6am)",Night(8pm-6am),Anytime,Anytime,Anytime,Anytime,,,,,,,,,,,,,,,,,"Scheduled-time (e.g., brew coffee at 7 am)","Scheduled-time (e.g., brew coffee at 7 am)","Executed at random (e.g., every time I enter the room)","Executed at random (e.g., every time I enter the room)","Executed at random (e.g., every time I enter the room)","Executed at random (e.g., every time I enter the room)",,,,,,,,,,,,,,,,,"Time,External Environment (Eg: Weather Forecast)",,"The routines I created involved automatic activation of lights for security purposes, and weather based activation of heating/cooling based on whether I am home or not for energy savings.",Never,Yes,,Others (please specify),"Troubleshoot the device, verify it had power and was connected to my Wifi, verified configuration, performed retests.",,,Yes,,Other (please specify),"I currently rely on my smart home to turn on a light at night required for pet birds to see when it is dark out (They have poor vision). If there is no light, they can go into a panic. If this smart home light fails to operate, the birds can injure themselves. If I couldn't trust the light to turn on when it is supposed to, I would go back to my old way of doing things which was have the light on 24/7.",Yes,,Others (please specify),"Troubleshoot the device, verify it had power and was connected to my Wifi, verified configuration, performed retests.",,,Yes,,Very dissatisfied,,"Shades/Blinds,Smart Printer,Robot Vacuum,Blood Pressure Monitor,Door Lock,Garage Door Opener,Glass Break Detector,Pulse Monitor,Security Alarm,Security Camera,Sleep Monitor,Smart Mirror,Smart TV,Speaker,Motion Sensor,Presence Sensor,Car Automation,GeoLocation Monitor",User-controlled: You can define any device to be a trigger or an action,Rarely,Generally I trust that the vendors I purchase smart home equipment from have already put the thought into the security of the devices.,Never,Almost Always,"I would set up a trigger that I could easily cause to happen myself, and verify that the correct desired action occurred. Afterwards, I would change the trigger to the desired set point, and when that trigger happened, I would make sure I got the expected result.",Secure,mode is Away AND time is (after sunset) ,switch on the Light Bulb,mode is Away AND time is (after 10pm +- random(30 minutes),switch off the Light Bulb,temperature outside > 80F AND mode is Away,set level of Air Conditioner to 79F AND close blinds,temperature outside > 80F AND mode is Home,set level of Air Conditioner to 76F,temperature < 50F AND mode is Away,set heatingSetpoint of Thermostat to 55F,temperature < 60F AND mode is Home,set heatingSetpoint of Thermostat to 60F,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,R_2t9VfWrI4EnmkFI
10/13/18 16:50,10/13/18 17:20,IP Address,100,1825,TRUE,10/13/18 17:20,R_2qCTtKzrTR0o2kN,,,,,anonymous,EN,Student,Bachelor's degree,Computer Science and music,No,,,,No,"Alexa,Other (please specify)",Raspberry Pi and Arduino ,,Yes,"DIY methods (Using Raspberry pi, Arduino, etc)",,Tech Websites,Forums,Personal Requirements,,Moderately important,"Air Conditioner,Air Cooler,Beacon Device,Fan,Thermostat,Security Alarm,Security Camera,CO Detector,Gas Sensor,Humidity Sensor,Moisture Sensor,Motion Sensor,Presence Sensor,Air Purifier","1. IF if Thermostat.measure &gt; 72, THEN turn on Fan AND turn on Air Conditioner  2. IF if Thermostat.measure &gt;= 72, THEN turn off Fan and turn off Air Conditioner  3. IF if CO_Detector.alarm() OR Gas_Sensor.alarm(), THEN flash All_lights AND Security_Alarm.strobe  4. IF if Motion_Sensor.trigger(), THEN Security_Camera.record()",Many times in a day (5+ /day),Many times in a day (5+ /day),Not Sure,Many times in a day (5+ /day),,,,,,,,,,,,,,,,,Anytime,Anytime,Not sure,Anytime,,,,,,,,,,,,,,,,,Anytime,Morning(6am- 11am),Not sure,"Morning(6am- 11am),Around noon(11am-1pm),Afternoon(1pm-5pm),Evening(5pm-8pm)",Night(8pm-6am),Anytime,"Morning(6am- 11am),Night(8pm-6am)","Morning(6am- 11am),Around noon(11am-1pm),Afternoon(1pm-5pm),Evening(5pm-8pm)",Evening(5pm-8pm),Night(8pm-6am),,,,,,,,,,,,,,,,,,"Executed at random (e.g., every time I enter the room)","Executed at random (e.g., every time I enter the room)","Executed at random (e.g., every time I enter the room)","Executed at random (e.g., every time I enter the room)",,,,,,,,,,,,,,,,,"External Environment (Eg: Weather Forecast),Device Placement (Device in the bedroom, Outside the house)",,"Complete honesty about the temperature routines, I considered my girlfriend's hamster.  They are very susceptible to temperature changes so I make routines to monitor his cage.  He currently has a little apparatus consisting of an arduino and raspberry pi which controls the air conditioning in the house and a small fan at the top of his cage.  Silly reason, but the little guy is cute so I put some effort into that.  For the security routine, I considered placement near points of entry into a house.  For CO/gas detection, I considered where the devices should be placed and the most at risk areas of a house.",Rarely,Yes,,Tried to find the root cause of the problem on your own,,,,Yes,,Very dissatisfied,,Yes,,Others (please specify),"Reset the device,,Maybe,Dissatisfied",,"Shades/Blinds,Smart Printer,Robot Vacuum,Blood Pressure Monitor,Door Lock,Garage Door Opener,Glass Break Detector,Pulse Monitor,Security Alarm,Security Camera,Sleep Monitor,Smart TV,Speaker,Motion Sensor,Presence Sensor,Car Automation,GeoLocation Monitor",Both,Always,"Security is really important to me. Not just the security of my home, but also the security of my data. I do not want my data to be sold to 3rd parties or used without my permission.",Sometimes,Always,"I'd go through my daily routines and ensure that the devices are working as they would if I were to operate them manually. Additionally, I would test to make sure that things weren't happening while I was away from home (example: the lights being left on or turned on while i was away which is a waste of electricity, stove being turned on, etc.)",Secure,threeAxis is within 100 feet of the house,open garage door,shock detected,trigger security alarm,motion sensor detects motion outside,security camera switch on,odorLevel detector returns high values,setAlarmMode(both),device enters room with light AND light is already off,light switch on,device exits room with light AND light is already on,light switch off,,,,,,,,,,,,,,,,,,,,,,,,,,,,,R_2V8EmuCerybqm6E
10/25/18 17:47,10/25/18 18:29,IP Address,100,2526,TRUE,10/25/18 18:29,R_vZxAGf1fnmXrXpf,,,,,anonymous,EN,Student,"Some college, no degree",Computer Science / Software Development,No,,,,No,"Apps offered by the platform (SmartThings, Nest, Google Home, etc.)",,"Tech Websites,Mobile Apps,Personal Requirements",,Important,"Air Conditioner,Air Cooler,Beacon Device,Light Bulb,Shades/Blinds,Thermostat,Refrigerator,Robot Vacuum,Audio Player,Door Lock,Garage Door Opener,Glass Break Detector,Security Alarm,Security Camera,Smart Mirror,Smart TV,Speaker,Water Leak Detector,Water Purifier,CO Detector,Gas Sensor,Motion Sensor,Open/Close Sensor,Presence Sensor,Smoke Detector,Car Automation,Doorbell,Electric Blanket,Energy Meter,Water Filter","1. IF LivingRoom_BeaconDevice presence equals true, THEN Switch on Smart TV  2. IF LivingRoom_BeaconDevice presence equal false, THEN Switch off Smart TV  3. IF Kitchen_BeaconDevice presence equals true, THEN Switch on Audio Player through kitchen speakers  4. IF Kitchen_BeaconDevice presence equals true, THEN Switch off Audio Player through kitchen speakers  5. IF If Home BeaconDevice presence equals true, THEN Set Mode to Home  6. IF If Mode equals Home, THEN Set Thermostat coolingSetPoint to 70, switch off Robot Vacuum  7. IF If Home BeaconDevice presence equals false, THEN Set Mode to Away  8. IF If Mode equals Away, THEN Set Thermostat to coolingSetPointRange to 70-75, switch off Lighting Remote, lock Door Lock, switch on Robot Vacuum  9. IF If Time equals sunset, THEN Turn on Light Bulbs, Shades/Blinds windowShade close  10. IF If Bedroom_Button pressed, THEN Switch mode to Night  11. IF If mode equal Night, THEN Turn off all Light Bulbs, Set Thermostat to coolingSetPoint 68  12. IF If Alarm Clock hits alarm, THEN Switch mode to Home, Shades/Blinds windowShade open",Few times in a day (1-5/day),Few times in a day (1-5/day),Many times in a day (5+ /day),Many times in a day (5+ /day),Few times in a day (1-5/day),Few times in a day (1-5/day),Few times in a week (1-5/week),Few times in a week (1-5/week),Few times in a week (1-5/week),Few times in a week (1-5/week),Few times in a week (1-5/week),Few times in a week (1-5/week),,,,,,,,Weekend,Weekend,Anytime,Anytime,Anytime,Anytime,Weekday,Weekday,Anytime,Anytime,Anytime,Anytime,,,,,,,,,Evening(5pm-8pm),Evening(5pm-8pm),"Morning(6am- 11am),Evening(5pm-8pm),Night(8pm-6am)","Morning(6am- 11am),Evening(5pm-8pm),Night(8pm-6am)",Evening(5pm-8pm),Evening(5pm-8pm),Morning(6am- 11am),Morning(6am- 11am),Evening(5pm-8pm),Night(8pm-6am),Night(8pm-6am),Morning(6am- 11am),,,,,,,,,"Executed at random (e.g., every time I enter the room)","Executed at random (e.g., every time I enter the room)","Executed at random (e.g., every time I enter the room)","Executed at random (e.g., every time I enter the room)","Executed at random (e.g., every time I enter the room)","Executed at random (e.g., every time I enter the room)","Executed at random (e.g., every time I enter the room)","Executed at random (e.g., every time I enter the room)","Scheduled-time (e.g., brew coffee at 7 am)","Manually-triggered (e.g., a button press)","Manually-triggered (e.g., a button press)","Scheduled-time (e.g., brew coffee at 7 am)",,,,,,,,,"